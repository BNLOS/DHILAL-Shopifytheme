<div class="video-showcase">
  {% if section.settings.video_url != blank %}
    <video
      controls
      autoplay
      muted
      loop
      playsinline
      poster="{{ section.settings.poster_image | image_url }}">
      <source src="{{ section.settings.video_url }}" type="video/mp4">
      {{ 'sections.video_showcase.fallback_text' | t }}
    </video>
  {% endif %}
  
  {% if section.settings.title != blank or section.settings.text != blank %}
    <div class="video-showcase__overlay">
      <div class="video-showcase__content">
        {% if section.settings.title != blank %}
          <h2 class="video-showcase__title">{{ section.settings.title }}</h2>
        {% endif %}
        
        {% if section.settings.text != blank %}
          <div class="video-showcase__text">
            {{ section.settings.text }}
          </div>
        {% endif %}
      </div>
    </div>
  {% endif %}
</div>

{% schema %}
{
  "name": "Video Showcase",
  "settings": [
    {
      "type": "text",
      "id": "video_url",
      "label": "رابط الفيديو",
      "info": "ارفع الفيديو إلى Shopify والصق الرابط هنا"
    },
    {
      "type": "image_picker",
      "id": "poster_image",
      "label": "صورة الغلاف"
    },
    {
      "type": "text",
      "id": "title",
      "label": "العنوان",
      "default": "شاهد المنتج في العمل"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "النص",
      "default": "<p>اكتشف كيف يعمل منتجنا</p>"
    }
  ],
  "presets": [
    {
      "name": "Video Showcase",
      "category": "Custom"
    }
  ]
}
{% endschema %}