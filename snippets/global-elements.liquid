{%- comment -%}
  This snippet contains global elements used throughout the theme.
  It combines social meta tags, icon rendering, and RTL support.
{%- endcomment -%}

{%- comment -%} Social Meta Tags {%- endcomment -%}
{%- if template.name == 'product' -%}
  <meta property="og:type" content="product">
  <meta property="og:title" content="{{ product.title | strip_html | escape }}">
  <meta property="og:description" content="{{ product.description | strip_html | escape }}">
  <meta property="og:url" content="{{ shop.url }}{{ product.url }}">
  <meta property="og:image" content="http:{{ product.featured_image | image_url: width: 1200, height: 630 }}">
  <meta property="og:image:secure_url" content="https:{{ product.featured_image | image_url: width: 1200, height: 630 }}">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:price:amount" content="{{ product.price | money_without_currency | strip_html }}">
  <meta property="og:price:currency" content="{{ shop.currency }}">
  <meta property="og:availability" content="{% if product.available %}instock{% else %}out of stock{% endif %}">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ product.title | strip_html | escape }}">
  <meta name="twitter:description" content="{{ product.description | strip_html | escape }}">
  <meta name="twitter:image" content="https:{{ product.featured_image | image_url: width: 1200, height: 630 }}">
{%- elsif template.name == 'article' -%}
  <meta property="og:type" content="article">
  <meta property="og:title" content="{{ article.title | strip_html | escape }}">
  <meta property="og:description" content="{{ article.excerpt_or_content | strip_html | escape }}">
  <meta property="og:url" content="{{ shop.url }}{{ article.url }}">
  {% if article.image %}
    <meta property="og:image" content="http:{{ article.image | image_url: width: 1200, height: 630 }}">
    <meta property="og:image:secure_url" content="https:{{ article.image | image_url: width: 1200, height: 630 }}">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
  {% endif %}
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ article.title | strip_html | escape }}">
  <meta name="twitter:description" content="{{ article.excerpt_or_content | strip_html | escape }}">
  {% if article.image %}
    <meta name="twitter:image" content="https:{{ article.image | image_url: width: 1200, height: 630 }}">
  {% endif %}
{%- elsif template.name == 'collection' -%}
  <meta property="og:type" content="website">
  <meta property="og:title" content="{{ collection.title | strip_html | escape }}">
  <meta property="og:description" content="{{ collection.description | strip_html | escape }}">
  <meta property="og:url" content="{{ shop.url }}{{ collection.url }}">
  {% if collection.image %}
    <meta property="og:image" content="http:{{ collection.image | image_url: width: 1200, height: 630 }}">
    <meta property="og:image:secure_url" content="https:{{ collection.image | image_url: width: 1200, height: 630 }}">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
  {% endif %}
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ collection.title | strip_html | escape }}">
  <meta name="twitter:description" content="{{ collection.description | strip_html | escape }}">
  {% if collection.image %}
    <meta name="twitter:image" content="https:{{ collection.image | image_url: width: 1200, height: 630 }}">
  {% endif %}
{%- else -%}
  <meta property="og:type" content="website">
  <meta property="og:title" content="{{ page_title | strip_html | escape }}">
  <meta property="og:description" content="{{ page_description | strip_html | escape }}">
  <meta property="og:url" content="{{ canonical_url }}">
  <meta property="og:site_name" content="{{ shop.name }}">
  {% if settings.logo %}
    <meta property="og:image" content="http:{{ settings.logo | image_url: width: 1200, height: 630 }}">
    <meta property="og:image:secure_url" content="https:{{ settings.logo | image_url: width: 1200, height: 630 }}">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
  {% endif %}
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ page_title | strip_html | escape }}">
  <meta name="twitter:description" content="{{ page_description | strip_html | escape }}">
  {% if settings.logo %}
    <meta name="twitter:image" content="https:{{ settings.logo | image_url: width: 1200, height: 630 }}">
  {% endif %}
{%- endif -%}

{%- comment -%} Icon Rendering {%- endcomment -%}
{% case name %}
  {% when 'search' %}
    <svg class="icon icon-search" aria-hidden="true" focusable="false">
      <use href="#icon-search"></use>
    </svg>
  
  {% when 'account' %}
    <svg class="icon icon-account" aria-hidden="true" focusable="false">
      <use href="#icon-account"></use>
    </svg>
  
  {% when 'cart' %}
    <svg class="icon icon-cart" aria-hidden="true" focusable="false">
      <use href="#icon-cart"></use>
    </svg>
  
  {% when 'close' %}
    <svg class="icon icon-close" aria-hidden="true" focusable="false">
      <use href="#icon-close"></use>
    </svg>
  
  {% when 'plus' %}
    <svg class="icon icon-plus" aria-hidden="true" focusable="false">
      <use href="#icon-plus"></use>
    </svg>
  
  {% when 'minus' %}
    <svg class="icon icon-minus" aria-hidden="true" focusable="false">
      <use href="#icon-minus"></use>
    </svg>
  
  {% when 'facebook' %}
    <svg class="icon icon-facebook" aria-hidden="true" focusable="false">
      <use href="#icon-facebook"></use>
    </svg>
  
  {% when 'instagram' %}
    <svg class="icon icon-instagram" aria-hidden="true" focusable="false">
      <use href="#icon-instagram"></use>
    </svg>
  
  {% when 'twitter' %}
    <svg class="icon icon-twitter" aria-hidden="true" focusable="false">
      <use href="#icon-twitter"></use>
    </svg>
  
  {% when 'youtube' %}
    <svg class="icon icon-youtube" aria-hidden="true" focusable="false">
      <use href="#icon-youtube"></use>
    </svg>
  
  {% when 'truck' %}
    <svg class="icon icon-truck" aria-hidden="true" focusable="false">
      <use href="#icon-truck"></use>
    </svg>
  
  {% when 'return' %}
    <svg class="icon icon-return" aria-hidden="true" focusable="false">
      <use href="#icon-return"></use>
    </svg>
  
  {% when 'filter' %}
    <svg class="icon icon-filter" aria-hidden="true" focusable="false">
      <use href="#icon-filter"></use>
    </svg>
  
  {% else %}
    {% for i in (1..6) %}
      {% if name == 'feature-icon-' | append: i %}
        <svg class="icon icon-feature-{{ i }}" aria-hidden="true" focusable="false">
          <use href="#icon-feature-icon-{{ i }}"></use>
        </svg>
      {% endif %}
    {% endfor %}
{% endcase %}

{%- comment -%} RTL Support {%- endcomment -%}
{% if request.locale.primary_language_code == 'ar' %}
  <script>
    document.documentElement.setAttribute('dir', 'rtl');
    document.body.classList.add('rtl-support');
  </script>
{% endif %}